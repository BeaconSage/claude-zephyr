# Claude Zephyr 配置文件模板
# 复制此文件为 config.toml 并修改相应设置

[server]
port = 8080
switch_threshold_ms = 50
graceful_switch_timeout_ms = 30000

# 全局健康检查配置
[health_check]
interval_seconds = 120              # 基础检查间隔
timeout_seconds = 15                # 检查超时时间
min_interval_seconds = 60           # 最小检查间隔
max_interval_seconds = 1800         # 最大检查间隔  
dynamic_scaling = true              # 启用动态调整
claude_binary_path = "claude"       # Claude CLI路径

# API提供商配置
[[groups]]
name = "primary-provider"
# 将此处替换为你的真实 Claude Auth Token
auth_token_env = "AUTH_TOKEN_MAIN"
default = true

# 该组的端点配置
endpoints = [
    { url = "https://api.your-provider.com", name = "Provider-Main" },
    { url = "https://backup.your-provider.com", name = "Provider-Backup" }
]

# 可选：备用API提供商
# [[groups]]
# name = "secondary-provider"
# auth_token_env = "AUTH_TOKEN_BACKUP"
# endpoints = [
#     { url = "https://api.another-provider.com", name = "Another-Provider" }
# ]

# 配置说明:
# 1. 每个 group 使用一个认证令牌，可包含多个 endpoints
# 2. auth_token_env 引用 .env 文件中的环境变量名  
# 3. endpoints 中每个 name 必须唯一
# 4. default = true 的组将作为启动时的默认选择
# 5. 所有认证令牌都应在 .env 文件中定义